(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(45),c=n.n(i),r=(n(64),n(13)),s=n(46),l=n(47),u=n(54),m=n(53),h=(n(48).proxy,window.location.hostname,n(49)),p=n.n(h),d=n(106),v=n(127),b=n(123),f=n(20),g=n(125),E=n(128),y=n(126),k=n(52),w=n.n(k),j=n(51),C=n.n(j),N=Object(b.a)((function(t){return{appBar:{bottom:0,top:"auto"},inputContainer:{backgroundColor:Object(f.b)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.b)(t.palette.common.white,.25)},borderRadius:t.shape.borderRadius,marginLeft:t.spacing(1),position:"relative",width:"100%"},icon:{width:t.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:t.spacing(1,1,1,7),width:"100%"}}}));function O(t){var e=N();return o.a.createElement(g.a,{position:"fixed",className:e.appBar},o.a.createElement(y.a,null,o.a.createElement("div",{className:e.inputContainer,style:{maxWidth:"200px"}},o.a.createElement("div",{className:e.icon},o.a.createElement(C.a,null)),o.a.createElement(E.a,{onChange:t.handleName,value:t.name,placeholder:"Name",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"name"}})),o.a.createElement("div",{className:e.inputContainer},o.a.createElement("form",{onSubmit:t.handleSubmit},o.a.createElement("div",{className:e.icon},o.a.createElement(w.a,null)),o.a.createElement(E.a,{onChange:t.handleContent,value:t.content,placeholder:"Type your message...",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"content"}})))))}n(103);var S=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={chat:[],content:"",name:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.socket=this.socket=p()("http://localhost:5000/"),this.socket.on("init",(function(e){t.setState((function(t){return{chat:[].concat(Object(r.a)(t.chat),Object(r.a)(e.reverse()))}}),t.scrollToBottom)})),this.socket.on("push",(function(e){t.setState((function(t){return{chat:[].concat(Object(r.a)(t.chat),[e])}}),t.scrollToBottom)}))}},{key:"handleContent",value:function(t){this.setState({content:t.target.value})}},{key:"handleName",value:function(t){this.setState({name:t.target.value})}},{key:"handleSubmit",value:function(t){var e=this;console.log(t),t.preventDefault(),this.setState((function(t){return console.log(t),console.log("this",e.socket),e.socket.emit("message",{name:t.name,content:t.content}),{chat:[].concat(Object(r.a)(t.chat),[{name:t.name,content:t.content}]),content:""}}),this.scrollToBottom)}},{key:"scrollToBottom",value:function(){var t=document.getElementById("chat");t.scrollTop=t.scrollHeight}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,{id:"chat",elevation:3},this.state.chat.map((function(t,e){return o.a.createElement("div",{key:e},o.a.createElement(v.a,{variant:"caption",className:"name"},t.name),o.a.createElement(v.a,{variant:"body1",className:"content"},t.content))}))),o.a.createElement(O,{content:this.state.content,handleContent:this.handleContent.bind(this),handleName:this.handleName.bind(this),handleSubmit:this.handleSubmit.bind(this),name:this.state.name}))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},48:function(t){t.exports=JSON.parse('{"name":"frontend","version":"0.1.0","private":true,"dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","react":"^16.13.1","react-dom":"^16.13.1","react-scripts":"3.4.1","socket.io-client":"^2.3.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"proxy":"http://localhost:5000"}')},59:function(t,e,n){t.exports=n(104)},64:function(t,e,n){},95:function(t,e){}},[[59,1,2]]]);
//# sourceMappingURL=main.00aeb411.chunk.js.map